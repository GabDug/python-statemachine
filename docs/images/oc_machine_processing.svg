<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="701pt" height="180" viewBox="0 0 700.54 135"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 131)"><title>list</title><polygon fill="#fff" stroke="transparent" points="-4 4 -4 -131 696.538 -131 696.538 4 -4 4"/><text x="346.269" y="-7" fill="#000" font-family="Times,serif" font-size="10" text-anchor="middle">OrderControl</text><g id="node1" class="node"><title>i</title><ellipse cx="7" cy="-42" fill="#000" stroke="#000" rx="7" ry="7"/><text x="7" y="-41.7" fill="#000" font-family="Times,serif" font-size="1" text-anchor="middle">i</text></g><g id="node2" class="node"><title>waiting_for_payment</title><path fill="#40e0d0" stroke="#000" stroke-width="2" d="M209.602,-60C209.602,-60 62.799,-60 62.799,-60 56.799,-60 50.799,-54 50.799,-48 50.799,-48 50.799,-36 50.799,-36 50.799,-30 56.799,-24 62.799,-24 62.799,-24 209.602,-24 209.602,-24 215.602,-24 221.602,-30 221.602,-36 221.602,-36 221.602,-48 221.602,-48 221.602,-54 215.602,-60 209.602,-60"/><text x="136.201" y="-45" fill="#000" font-family="Times,serif" font-size="10" text-anchor="middle">Waiting for payment</text><text x="136.201" y="-33" fill="#000" font-family="Times,serif" font-size="10" text-anchor="middle">entry / on_enter_waiting_for_payment</text></g><g id="edge1" class="edge"><title>i-&gt;waiting_for_payment</title><path fill="none" stroke="#00f" d="M14.3166,-42C20.4271,-42 29.8977,-42 40.9204,-42"/><polygon fill="#00f" stroke="#00f" points="40.961 -45.5 50.961 -42 40.961 -38.5 40.961 -45.5"/></g><g id="edge4" class="edge"><title>waiting_for_payment-&gt;waiting_for_payment</title><path fill="none" stroke="#00f" d="M126.9742,-60.1527C125.5547,-69.5391 128.6302,-78 136.2005,-78 140.8137,-78 143.7577,-74.8581 145.0326,-70.2796"/><polygon fill="#00f" stroke="#00f" points="148.535 -70.281 145.427 -60.153 141.54 -70.009 148.535 -70.281"/><text x="136.201" y="-80.7" fill="#000" font-family="Times,serif" font-size="9" text-anchor="middle">add_to_order</text></g><g id="edge6" class="edge"><title>waiting_for_payment-&gt;waiting_for_payment</title><path fill="none" stroke="#00f" d="M120.7361,-60.2576C112.7176,-77.4023 117.8724,-96 136.2005,-96 151.0921,-96 157.2872,-83.7226 154.7859,-69.9226"/><polygon fill="#00f" stroke="#00f" points="158.069 -68.698 151.665 -60.258 151.407 -70.849 158.069 -68.698"/><text x="136.201" y="-109.5" fill="#000" font-family="Times,serif" font-size="9" text-anchor="middle">receive_payment</text><text x="136.201" y="-98.7" fill="#000" font-family="Times,serif" font-size="9" text-anchor="middle">[!payments_enough]</text></g><g id="node4" class="node"><title>processing</title><path fill="#fff" stroke="#000" d="M376.3662,-60C376.3662,-60 340.7184,-60 340.7184,-60 334.7184,-60 328.7184,-54 328.7184,-48 328.7184,-48 328.7184,-36 328.7184,-36 328.7184,-30 334.7184,-24 340.7184,-24 340.7184,-24 376.3662,-24 376.3662,-24 382.3662,-24 388.3662,-30 388.3662,-36 388.3662,-36 388.3662,-48 388.3662,-48 388.3662,-54 382.3662,-60 376.3662,-60"/><text x="358.542" y="-39" fill="#000" font-family="Times,serif" font-size="10" text-anchor="middle">Processing</text></g><g id="edge5" class="edge"><title>waiting_for_payment-&gt;processing</title><path fill="none" stroke="#00f" d="M221.5278,-42C254.9346,-42 291.6375,-42 318.6412,-42"/><polygon fill="#00f" stroke="#00f" points="318.852 -45.5 328.852 -42 318.852 -38.5 318.852 -45.5"/><text x="275.141" y="-55.5" fill="#000" font-family="Times,serif" font-size="9" text-anchor="middle">receive_payment</text><text x="275.141" y="-44.7" fill="#000" font-family="Times,serif" font-size="9" text-anchor="middle">[payments_enough]</text></g><g id="node3" class="node"><title>completed</title><path fill="#fff" stroke="#000" d="M676.4874,-60C676.4874,-60 640.7056,-60 640.7056,-60 634.7056,-60 628.7056,-54 628.7056,-48 628.7056,-48 628.7056,-36 628.7056,-36 628.7056,-30 634.7056,-24 640.7056,-24 640.7056,-24 676.4874,-24 676.4874,-24 682.4874,-24 688.4874,-30 688.4874,-36 688.4874,-36 688.4874,-48 688.4874,-48 688.4874,-54 682.4874,-60 676.4874,-60"/><path fill="none" stroke="#000" d="M680.4806,-64C680.4806,-64 636.7124,-64 636.7124,-64 630.7124,-64 624.7124,-58 624.7124,-52 624.7124,-52 624.7124,-32 624.7124,-32 624.7124,-26 630.7124,-20 636.7124,-20 636.7124,-20 680.4806,-20 680.4806,-20 686.4806,-20 692.4806,-26 692.4806,-32 692.4806,-32 692.4806,-52 692.4806,-52 692.4806,-58 686.4806,-64 680.4806,-64"/><text x="658.596" y="-39" fill="#000" font-family="Times,serif" font-size="10" text-anchor="middle">Completed</text></g><g id="node5" class="node"><title>shipping</title><path fill="#fff" stroke="#000" d="M538.166,-60C538.166,-60 508.166,-60 508.166,-60 502.166,-60 496.166,-54 496.166,-48 496.166,-48 496.166,-36 496.166,-36 496.166,-30 502.166,-24 508.166,-24 508.166,-24 538.166,-24 538.166,-24 544.166,-24 550.166,-30 550.166,-36 550.166,-36 550.166,-48 550.166,-48 550.166,-54 544.166,-60 538.166,-60"/><text x="523.166" y="-39" fill="#000" font-family="Times,serif" font-size="10" text-anchor="middle">Shipping</text></g><g id="edge2" class="edge"><title>processing-&gt;shipping</title><path fill="none" stroke="#00f" d="M388.3544,-42C415.6692,-42 456.222,-42 485.7132,-42"/><polygon fill="#00f" stroke="#00f" points="486.033 -45.5 496.033 -42 486.033 -38.5 486.033 -45.5"/><text x="442.185" y="-55.5" fill="#000" font-family="Times,serif" font-size="9" text-anchor="middle">process_order</text><text x="442.185" y="-44.7" fill="#000" font-family="Times,serif" font-size="9" text-anchor="middle">[payment_received]</text></g><g id="edge3" class="edge"><title>shipping-&gt;completed</title><path fill="none" stroke="#00f" d="M550.2469,-42C568.5558,-42 593.1538,-42 614.2848,-42"/><polygon fill="#00f" stroke="#00f" points="614.337 -45.5 624.337 -42 614.337 -38.5 614.337 -45.5"/><text x="587.41" y="-44.7" fill="#000" font-family="Times,serif" font-size="9" text-anchor="middle">ship_order</text></g></g></svg>